{"version":3,"sources":["../src/utils.ts"],"names":[],"mappings":";AAKO,SAAS,UAAA,CAAW,SAAS,EAAA,EAAY;AAC5C,EAAA,MAAM,SAAA,GAAY,IAAA,CAAK,GAAA,EAAI,CAAE,SAAS,EAAE,CAAA;AACxC,EAAA,MAAM,MAAA,GAAS,KAAK,MAAA,EAAO,CAAE,SAAS,EAAE,CAAA,CAAE,SAAA,CAAU,CAAA,EAAG,CAAC,CAAA;AACxD,EAAA,OAAO,MAAA,GAAS,CAAA,EAAG,MAAM,CAAA,CAAA,EAAI,SAAS,CAAA,EAAG,MAAM,CAAA,CAAA,GAAK,CAAA,EAAG,SAAS,CAAA,EAAG,MAAM,CAAA,CAAA;AAC7E;AAKO,SAAS,aAAA,CACZ,IAAA,EACA,OAAA,EACA,OAAA,EACO;AACP,EAAA,OAAO,EAAE,IAAA,EAAM,OAAA,EAAS,GAAG,OAAA,EAAQ;AACvC;AAKO,SAAS,gBAAA,CACZ,IAAA,EACA,OAAA,EACA,SAAA,EACU;AACV,EAAA,OAAO;AAAA,IACH,IAAA;AAAA,IACA,OAAA;AAAA,IACA,SAAA;AAAA,IACA,SAAA,sBAAe,IAAA;AAAK,GACxB;AACJ;AAKO,SAAS,aAAA,CAAiB,MAAc,QAAA,EAAgB;AAC3D,EAAA,IAAI;AACA,IAAA,OAAO,IAAA,CAAK,MAAM,IAAI,CAAA;AAAA,EAC1B,CAAA,CAAA,MAAQ;AACJ,IAAA,OAAO,QAAA;AAAA,EACX;AACJ;AAKO,SAAS,MAAM,EAAA,EAA2B;AAC7C,EAAA,OAAO,IAAI,OAAA,CAAQ,CAAC,YAAY,UAAA,CAAW,OAAA,EAAS,EAAE,CAAC,CAAA;AAC3D;AAKA,eAAsB,KAAA,CAClB,EAAA,EACA,OAAA,GAAuD,EAAC,EAC9C;AACV,EAAA,MAAM,EAAE,UAAA,GAAa,CAAA,EAAG,SAAA,GAAY,KAAK,GAAI,OAAA;AAC7C,EAAA,IAAI,SAAA,GAA0B,IAAA;AAE9B,EAAA,KAAA,IAAS,OAAA,GAAU,CAAA,EAAG,OAAA,GAAU,UAAA,EAAY,OAAA,EAAA,EAAW;AACnD,IAAA,IAAI;AACA,MAAA,OAAO,MAAM,EAAA,EAAG;AAAA,IACpB,SAAS,KAAA,EAAO;AACZ,MAAA,SAAA,GAAY,KAAA;AACZ,MAAA,IAAI,OAAA,GAAU,aAAa,CAAA,EAAG;AAC1B,QAAA,MAAM,MAAM,SAAA,GAAY,IAAA,CAAK,GAAA,CAAI,CAAA,EAAG,OAAO,CAAC,CAAA;AAAA,MAChD;AAAA,IACJ;AAAA,EACJ;AAEA,EAAA,MAAM,SAAA;AACV;AAKO,SAAS,QAAA,CAAS,IAAA,EAAc,SAAA,EAAmB,MAAA,GAAS,KAAA,EAAe;AAC9E,EAAA,IAAI,IAAA,CAAK,MAAA,IAAU,SAAA,EAAW,OAAO,IAAA;AACrC,EAAA,OAAO,KAAK,SAAA,CAAU,CAAA,EAAG,SAAA,GAAY,MAAA,CAAO,MAAM,CAAA,GAAI,MAAA;AAC1D","file":"chunk-U2NF3EPA.js","sourcesContent":["import type { Message, AgentEvent, AgentEventType } from \"./types\";\r\n\r\n/**\r\n * Generate a unique ID with optional prefix\r\n */\r\nexport function generateId(prefix = \"\"): string {\r\n    const timestamp = Date.now().toString(36);\r\n    const random = Math.random().toString(36).substring(2, 9);\r\n    return prefix ? `${prefix}_${timestamp}${random}` : `${timestamp}${random}`;\r\n}\r\n\r\n/**\r\n * Create a message object\r\n */\r\nexport function createMessage(\r\n    role: Message[\"role\"],\r\n    content: string,\r\n    options?: Partial<Omit<Message, \"role\" | \"content\">>\r\n): Message {\r\n    return { role, content, ...options };\r\n}\r\n\r\n/**\r\n * Create an agent event\r\n */\r\nexport function createAgentEvent(\r\n    type: AgentEventType,\r\n    content: unknown,\r\n    agentType?: string\r\n): AgentEvent {\r\n    return {\r\n        type,\r\n        content,\r\n        agentType: agentType as AgentEvent[\"agentType\"],\r\n        timestamp: new Date(),\r\n    };\r\n}\r\n\r\n/**\r\n * Safe JSON parse with fallback\r\n */\r\nexport function safeJsonParse<T>(json: string, fallback: T): T {\r\n    try {\r\n        return JSON.parse(json) as T;\r\n    } catch {\r\n        return fallback;\r\n    }\r\n}\r\n\r\n/**\r\n * Delay execution\r\n */\r\nexport function delay(ms: number): Promise<void> {\r\n    return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n\r\n/**\r\n * Retry function with exponential backoff\r\n */\r\nexport async function retry<T>(\r\n    fn: () => Promise<T>,\r\n    options: { maxRetries?: number; baseDelay?: number } = {}\r\n): Promise<T> {\r\n    const { maxRetries = 3, baseDelay = 1000 } = options;\r\n    let lastError: Error | null = null;\r\n\r\n    for (let attempt = 0; attempt < maxRetries; attempt++) {\r\n        try {\r\n            return await fn();\r\n        } catch (error) {\r\n            lastError = error as Error;\r\n            if (attempt < maxRetries - 1) {\r\n                await delay(baseDelay * Math.pow(2, attempt));\r\n            }\r\n        }\r\n    }\r\n\r\n    throw lastError;\r\n}\r\n\r\n/**\r\n * Truncate text to specified length\r\n */\r\nexport function truncate(text: string, maxLength: number, suffix = \"...\"): string {\r\n    if (text.length <= maxLength) return text;\r\n    return text.substring(0, maxLength - suffix.length) + suffix;\r\n}"]}