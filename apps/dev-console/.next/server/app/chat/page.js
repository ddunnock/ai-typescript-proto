(()=>{var e={};e.id=929,e.ids=[929],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9782:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>g,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(2913),s(5270),s(4171);var r=s(3789),a=s(249),n=s(3828),i=s.n(n),o=s(8324),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2913)),"/home/ddunnock/projects/ai-typescript-proto/apps/dev-console/src/app/chat/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5270)),"/home/ddunnock/projects/ai-typescript-proto/apps/dev-console/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,4171,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ddunnock/projects/ai-typescript-proto/apps/dev-console/src/app/chat/page.tsx"],u="/chat/page",g={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/chat/page",pathname:"/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6371:(e,t,s)=>{Promise.resolve().then(s.bind(s,4703))},7784:(e,t,s)=>{Promise.resolve().then(s.bind(s,7298))},3084:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6836,23)),Promise.resolve().then(s.t.bind(s,7012,23)),Promise.resolve().then(s.t.bind(s,4829,23)),Promise.resolve().then(s.t.bind(s,7737,23)),Promise.resolve().then(s.t.bind(s,5871,23)),Promise.resolve().then(s.t.bind(s,9659,23))},4703:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(4028),a=s(491),n=s(1478);let i=(0,s(4766).Ue)((e,t)=>({sessions:[],activeSessionId:null,isStreaming:!1,setActiveSession:t=>e({activeSessionId:t}),createSession:(t,s)=>{let r=crypto.randomUUID(),a={id:r,name:s??`Chat ${new Date().toLocaleString()}`,agentId:t,messages:[],createdAt:new Date,updatedAt:new Date};return e(e=>({sessions:[...e.sessions,a],activeSessionId:r})),r},deleteSession:t=>e(e=>({sessions:e.sessions.filter(e=>e.id!==t),activeSessionId:e.activeSessionId===t?null:e.activeSessionId})),addMessage:(t,s)=>e(e=>({sessions:e.sessions.map(e=>e.id===t?{...e,messages:[...e.messages,s],updatedAt:new Date}:e)})),updateMessage:(t,s,r)=>e(e=>({sessions:e.sessions.map(e=>e.id===t?{...e,messages:e.messages.map(e=>e.id===s?{...e,...r}:e),updatedAt:new Date}:e)})),appendToMessage:(t,s,r)=>e(e=>({sessions:e.sessions.map(e=>e.id===t?{...e,messages:e.messages.map(e=>e.id===s?{...e,content:e.content+r}:e),updatedAt:new Date}:e)})),setStreaming:t=>e({isStreaming:t}),getSession:e=>t().sessions.find(t=>t.id===e),getActiveSession:()=>{let{sessions:e,activeSessionId:s}=t();return e.find(e=>e.id===s)},clearSession:t=>e(e=>({sessions:e.sessions.map(e=>e.id===t?{...e,messages:[],updatedAt:new Date}:e)}))}));var o=s(568),l=s(186);let d=(0,l.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var c=s(7105);let u=(0,l.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var g=s(9127),m=s(3573);function x(){let{agents:e}=(0,n.E)(),{sessions:t,activeSessionId:s,isStreaming:l,createSession:c,addMessage:u,getActiveSession:g,setStreaming:m,appendToMessage:x,updateMessage:f}=i(),[y,b]=(0,a.useState)(""),[v,j]=(0,a.useState)(null),w=(0,a.useRef)(null),k=(0,a.useRef)(null),S=g(),N=async()=>{if(!y.trim()||l)return;let e=s;if(!e&&v&&(e=c(v)),!e)return;u(e,{id:crypto.randomUUID(),role:"user",content:y.trim(),timestamp:new Date}),b(""),m(!0);let t=crypto.randomUUID();u(e,{id:t,role:"assistant",content:"",timestamp:new Date,isStreaming:!0}),await A(e,t),m(!1)},A=async(e,t)=>{for(let s of"This is a simulated response. Connect to the agent API route to enable real conversations with your AI agents.".split(" "))await new Promise(e=>setTimeout(e,50)),x(e,t,s+" ");f(e,t,{isStreaming:!1})};return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Chat"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Test your AI agents in real-time"})]}),(0,r.jsxs)("select",{value:v??"",onChange:e=>j(e.target.value||null),className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select an agent..."}),e.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id)),0===e.length&&r.jsx("option",{disabled:!0,children:"No agents configured"})]})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-50 dark:bg-gray-900",children:[S&&0!==S.messages.length?S.messages.map(e=>r.jsx(h,{message:e},e.id)):r.jsx(p,{}),r.jsx("div",{ref:w})]}),r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:(0,r.jsxs)("div",{className:"flex items-end gap-3 max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex-1 relative",children:r.jsx("textarea",{ref:k,value:y,onChange:e=>b(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N())},placeholder:v?"Type your message...":"Select an agent to start chatting",disabled:!v||l,rows:1,className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg resize-none text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50",style:{minHeight:"48px",maxHeight:"200px"}})}),r.jsx("button",{onClick:N,disabled:!y.trim()||!v||l,className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?r.jsx(o.Z,{className:"h-5 w-5 animate-spin"}):r.jsx(d,{className:"h-5 w-5"})})]})})]})}function p(){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[r.jsx("div",{className:"p-4 bg-blue-100 dark:bg-blue-900/30 rounded-full mb-4",children:r.jsx(c.Z,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),r.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Start a conversation"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-md",children:"Select an agent from the dropdown above and send a message to begin testing your AI agent configuration."})]})}function h({message:e}){let t="user"===e.role,s="assistant"===e.role;return r.jsx("div",{className:`flex ${t?"justify-end":"justify-start"}`,children:(0,r.jsxs)("div",{className:`flex gap-3 max-w-2xl ${t?"flex-row-reverse":"flex-row"}`,children:[r.jsx("div",{className:`flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center ${t?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:t?r.jsx(u,{className:"h-4 w-4 text-white"}):r.jsx(c.Z,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"})}),(0,r.jsxs)("div",{className:`px-4 py-3 rounded-2xl ${t?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700"}`,children:[r.jsx("p",{className:"whitespace-pre-wrap",children:e.content}),s&&e.toolCalls&&e.toolCalls.length>0&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600 space-y-2",children:e.toolCalls.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:["running"===e.status?r.jsx(o.Z,{className:"h-3 w-3 animate-spin text-blue-500"}):"error"===e.status?r.jsx(g.Z,{className:"h-3 w-3 text-red-500"}):r.jsx(m.Z,{className:"h-3 w-3 text-green-500"}),r.jsx("span",{className:"font-mono text-xs",children:e.name})]},e.id))}),e.isStreaming&&r.jsx("span",{className:"inline-block w-2 h-4 ml-1 bg-gray-400 animate-pulse"})]})]})})}},7298:(e,t,s)=>{"use strict";s.d(t,{Sidebar:()=>h});var r=s(4028),a=s(8948),n=s(1868),i=s(7735),o=s(4236),l=s(7105),d=s(5624),c=s(9155),u=s(8244),g=s(937),m=s(1238),x=s(491);let p=[{name:"Dashboard",href:"/",icon:i.Z},{name:"Chat",href:"/chat",icon:o.Z},{name:"Agents",href:"/agents",icon:l.Z},{name:"MCP Servers",href:"/mcp",icon:d.Z},{name:"Traces",href:"/traces",icon:c.Z},{name:"Settings",href:"/settings",icon:u.Z}];function h(){let e=(0,n.usePathname)(),[t,s]=(0,x.useState)(!1);return(0,r.jsxs)("div",{className:`${t?"w-16":"w-64"} flex flex-col bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-700",children:[!t&&r.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI Dev Console"}),r.jsx("button",{onClick:()=>s(!t),className:"p-1.5 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:t?r.jsx(g.Z,{className:"h-5 w-5"}):r.jsx(m.Z,{className:"h-5 w-5"})})]}),r.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:p.map(s=>{let n=e===s.href||"/"!==s.href&&e.startsWith(s.href);return(0,r.jsxs)(a.default,{href:s.href,className:`${n?"bg-blue-50 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"} group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors`,title:t?s.name:void 0,children:[r.jsx(s.icon,{className:`${n?"text-blue-600 dark:text-blue-400":"text-gray-400 group-hover:text-gray-500 dark:group-hover:text-gray-300"} ${t?"":"mr-3"} h-5 w-5 flex-shrink-0`}),!t&&s.name]},s.name)})}),r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:!t&&(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 mr-2"}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"System Ready"})]})})]})}},1478:(e,t,s)=>{"use strict";s.d(t,{E:()=>r});let r=(0,s(4766).Ue)((e,t)=>({agents:[],activeAgentId:null,setActiveAgent:t=>e({activeAgentId:t}),addAgent:t=>e(e=>({agents:[...e.agents,t]})),updateAgent:(t,s)=>e(e=>({agents:e.agents.map(e=>e.id===t?{...e,...s}:e)})),removeAgent:t=>e(e=>({agents:e.agents.filter(e=>e.id!==t),activeAgentId:e.activeAgentId===t?null:e.activeAgentId})),getAgent:e=>t().agents.find(t=>t.id===e)}))},9127:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(186).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},568:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(186).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3573:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(186).Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},8520:(e,t,s)=>{"use strict";var r=s(491),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=r.useState,i=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!a(e,s)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),r=n({inst:{value:s,getSnapshot:t}}),a=r[0].inst,c=r[1];return o(function(){a.value=s,a.getSnapshot=t,d(a)&&c({inst:a})},[e,s,t]),i(function(){return d(a)&&c({inst:a}),e(function(){d(a)&&c({inst:a})})},[e]),l(s),s};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},3181:(e,t,s)=>{"use strict";var r=s(491),a=s(6722),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useSyncExternalStore,o=r.useRef,l=r.useEffect,d=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,s,r,a){var u=o(null);if(null===u.current){var g={hasValue:!1,value:null};u.current=g}else g=u.current;var m=i(e,(u=d(function(){function e(e){if(!l){if(l=!0,i=e,e=r(e),void 0!==a&&g.hasValue){var t=g.value;if(a(t,e))return o=t}return o=e}if(t=o,n(i,e))return t;var s=r(e);return void 0!==a&&a(t,s)?(i=e,t):(i=e,o=s)}var i,o,l=!1,d=void 0===s?null:s;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]},[t,s,r,a]))[0],u[1]);return l(function(){g.hasValue=!0,g.value=m},[m]),c(m),m}},6722:(e,t,s)=>{"use strict";e.exports=s(8520)},4989:(e,t,s)=>{"use strict";e.exports=s(3181)},2913:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(6378).createProxy)(String.raw`/home/ddunnock/projects/ai-typescript-proto/apps/dev-console/src/app/chat/page.tsx#default`)},5270:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>n});var r=s(2809);s(4630);let a=(0,s(6378).createProxy)(String.raw`/home/ddunnock/projects/ai-typescript-proto/apps/dev-console/src/components/layout/sidebar.tsx#Sidebar`),n={title:"AI Dev Console",description:"Development console for AI agents, MCP servers, and flows"};function i({children:e}){return r.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:r.jsx("body",{className:"font-sans antialiased",children:(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx(a,{}),r.jsx("main",{className:"flex-1 overflow-auto",children:e})]})})})}},4630:()=>{},4766:(e,t,s)=>{"use strict";s.d(t,{Ue:()=>g});let r=e=>{let t;let s=new Set,r=(e,r)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),s.forEach(s=>s(t,e))}},a=()=>t,n={setState:r,getState:a,getInitialState:()=>i,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},i=t=e(r,a,n);return n},a=e=>e?r(e):r;var n=s(491),i=s(4989);let{useDebugValue:o}=n,{useSyncExternalStoreWithSelector:l}=i,d=!1,c=e=>e,u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?a(e):e,s=(e,s)=>(function(e,t=c,s){s&&!d&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),d=!0);let r=l(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return o(r),r})(t,e,s);return Object.assign(s,t),s},g=e=>e?u(e):u}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447],()=>s(9782));module.exports=r})();